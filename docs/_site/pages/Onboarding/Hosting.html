<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/main-frosh-logo.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Hosting &amp; Deployment | F!rosh Website Documentation</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Hosting &amp; Deployment" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A GitHub Pages website used to host documentation and resources for UofT orientation website development" /> <meta property="og:description" content="A GitHub Pages website used to host documentation and resources for UofT orientation website development" /> <link rel="canonical" href="http://0.0.0.0:4000/pages/Onboarding/Hosting.html" /> <meta property="og:url" content="http://0.0.0.0:4000/pages/Onboarding/Hosting.html" /> <meta property="og:site_name" content="F!rosh Website Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Hosting &amp; Deployment" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A GitHub Pages website used to host documentation and resources for UofT orientation website development","headline":"Hosting &amp; Deployment","url":"http://0.0.0.0:4000/pages/Onboarding/Hosting.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> F!rosh Website Documentation </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Project Architecture category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/pages/Project%20Architecture/ProjectArchitecture.html" class="nav-list-link">Project Architecture</a><ul class="nav-list"><li class="nav-list-item "><a href="/pages/Project%20Architecture/Backend.html" class="nav-list-link">Backend</a></li><li class="nav-list-item "><a href="/pages/Project%20Architecture/Frontend.html" class="nav-list-link">Frontend</a></li><li class="nav-list-item "><a href="/pages/Project%20Architecture/Scunt.html" class="nav-list-link">Havenger Scunt</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Onboarding category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/pages/Onboarding/Onboarding.html" class="nav-list-link">Onboarding</a><ul class="nav-list"><li class="nav-list-item "><a href="/pages/Onboarding/Frontend.html" class="nav-list-link">Frontend</a></li><li class="nav-list-item "><a href="/pages/Onboarding/Backend.html" class="nav-list-link">Backend</a></li><li class="nav-list-item "><a href="/pages/Onboarding/GitHub.html" class="nav-list-link">Git & GitHub</a></li><li class="nav-list-item "><a href="/pages/Onboarding/Security.html" class="nav-list-link">Security</a></li><li class="nav-list-item "><a href="/pages/Onboarding/Docker.html" class="nav-list-link">Docker</a></li><li class="nav-list-item active"><a href="/pages/Onboarding/Hosting.html" class="nav-list-link active">Hosting & Deployment</a></li><li class="nav-list-item "><a href="/pages/Onboarding/Documentation.html" class="nav-list-link">Documentation</a></li></ul></li><li class="nav-list-item"><a href="/pages/TheTeam.html" class="nav-list-link">The Team</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search F!rosh Website Documentation" aria-label="Search F!rosh Website Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/UofT-Frosh-Orientation/orientation-website/" class="site-button" > Github Repo </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/pages/Onboarding/Onboarding.html">Onboarding</a></li> <li class="breadcrumb-nav-list-item"><span>Hosting & Deployment</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="hosting--deployment"> <a href="#hosting--deployment" class="anchor-heading" aria-labelledby="hosting--deployment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hosting &amp; Deployment </h1> <p>To get the website up and running fully on the World Wide Web you need to configure the hosting environment and deployment pipeline. For hosting needs we use <a href="https://www.digitalocean.com/">DigitalOcean</a> and our development pipeline is set up through <a href="https://docs.github.com/en/actions">GitHub Actions</a> and <a href="https://www.docker.com/get-started/">Docker</a>.</p> <h2 id="hosting"> <a href="#hosting" class="anchor-heading" aria-labelledby="hosting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hosting </h2> <p>Hosting on DigitalOcean can be both super simple and chaotic. If you know what to do, implementation of the hosting environment can be very straight forward. Here we’ll attempt to outline all the steps taken to get to a valid hosting environment set up on DigitalOcean.</p> <h3 id="digitalocean-droplet"> <a href="#digitalocean-droplet" class="anchor-heading" aria-labelledby="digitalocean-droplet"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DigitalOcean Droplet </h3> <p>The Orientation website is hosted on a droplet with the marketplace Docker+Ubuntu image and on the Toronto servers. We used the $7/month performance level, however, we “resize” our droplet to have more processing power during heavy traffic times such as registration and the duration of F!rosh Week. This bumps it up to the $21/month subscription. Additionally, make sure to set up at least a couple SSH Keys to access your droplet.</p> <p>After creating the droplet you need to get a reserved IP address for it. This should be free with the purchase of the droplet. The reserved IP can be configured to point to different droplets which can be useful by letting you by pass the timely DNS change process.</p> <h3 id="dns-records"> <a href="#dns-records" class="anchor-heading" aria-labelledby="dns-records"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DNS Records </h3> <p>The DNS Records are owned by the Engineering Society and are managed through Google Domains. However, the orientation.skule.ca hostname has been configured to be fully managed by DigitalOcean. This helps minimize the need to communicate with the EngSoc Webmaster / Sys Admin as you can fully manage everything from DigitalOcean. However, this can be a double edged sword as you might mess up the DNS records and cause the Email service to go down for 2 days. Totally didn’t happen to me.</p> <p>Here is a quick overview of the DNS records in use:</p> <ul> <li><code class="language-plaintext highlighter-rouge">A</code> records are used to point a hostname to an IP address. These should be configured to point to the reserved IPs from above.</li> <li><code class="language-plaintext highlighter-rouge">MX</code> records are used to navigate the email service. They should point to the Gmail servers. These records are standard and usually nothing will need to change.</li> <li><code class="language-plaintext highlighter-rouge">CNAME</code> records can be used to create an alias. Basically when you make a call to an aliased hostname it will actually go to a different one.</li> <li><code class="language-plaintext highlighter-rouge">NS</code> records are used to determine which servers are in charge of managing the records for a hostname. These should be pointing to the DigitalOcean nameservers to make sure that our records are valid. <h3 id="nginx"> <a href="#nginx" class="anchor-heading" aria-labelledby="nginx"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Nginx </h3> </li> </ul> <p>Nginx is used to direct traffic within the DigitalOcean droplet. You can use it to ensure that different services are mapped properly. Additionally, you can use it to create a secure connection using HTTPS. The setup procedure is very simple just follow these articles written by the DigitalOcean staff.</p> <ul> <li> <p><a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04#if-the-root-account-uses-ssh-key-authentication">Initial Server Setup</a></p> </li> <li> <p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-20-04#step-5-setting-up-server-blocks-recommended">How To Install Nginx</a></p> </li> <li> <p><a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-20-04">How To Secure Nginx with Let’s Encrypt</a></p> </li> </ul> <p class="new-important">The Nginx setup guide shows you how to set it up to serve static content. However we use Nginx to direct to proper ports and applications. You will be able to find the necessary Nginx config files in the <code class="language-plaintext highlighter-rouge">deployment-environments</code> repository.</p> <h2 id="deployment"> <a href="#deployment" class="anchor-heading" aria-labelledby="deployment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deployment </h2> <p>To deploy the project to the DigitalOcean server you will need to create production ready forms of the codebase and then upload them. To do this in a streamlined fashion we use Docker to containerize our code and then upload it to a registry on DigitalOcean. This is all done through GitHub Actions which help run all of the processes in the background.</p> <h3 id="github-actions"> <a href="#github-actions" class="anchor-heading" aria-labelledby="github-actions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GitHub Actions </h3> <p>The GitHub Actions are all the files under <code class="language-plaintext highlighter-rouge">./github/workflows</code>. They are configured to do things such as:</p> <ul> <li>Run tests</li> <li>Deploy code to hosting</li> <li>Update the GitHub Pages website</li> </ul> <p>The deployment actions create productions builds of the codebase and upload it to the Docker Registry. From there a deployment script is called to run the <code class="language-plaintext highlighter-rouge">docker-compose</code> commands needed to start the project.</p> <h3 id="docker-registry"> <a href="#docker-registry" class="anchor-heading" aria-labelledby="docker-registry"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker Registry </h3> <p>The Docker Registry holds all the Docker images that are created by the GitHub actions. It is hosted by DigitalOcean and is a private registry that requires access keys to read/write to. We use the $5/month version that gives us enough space and repositories to hold all of our data.</p> <p class="new-important">Be sure to delete older images as they will build up and fill up the storage which can use you to not be able to update the website.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
